import Callout from 'nextra-theme-docs/callout'
import Video from '../../../components/video'

# ç§å¯†æ–‡ä»¶å¤¹

<Video src="/videos/password-demo.mp4" ratio={1246 / 2246} />

## ä½¿ç”¨å¯†ç ä¿æŠ¤æ‚¨çš„æ–‡ä»¶å¤¹

æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªéœ€è¦å¯†ç æ‰èƒ½è®¿é—®çš„æ–‡ä»¶å¤¹ã€‚

### æ­¥éª¤

- æ‚¨éœ€è¦åœ¨ `config/site.json` çš„ `protectedRoutes` å¤„æ·»åŠ è¦ä¿æŠ¤çš„æ–‡ä»¶å¤¹ã€‚
- åœ¨è¦ä¿æŠ¤çš„æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º  `.password` çš„ **ç©ºç™½æ–‡ä»¶** ã€‚
- ä½¿ç”¨ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€è¿™ä¸ª `.password` æ–‡ä»¶ï¼Œå¹¶åœ¨é‡Œé¢å¡«å†™è¯¥æ–‡ä»¶å¤¹çš„è®¿é—®å¯†ç ã€‚
- æœ€åï¼Œåœ¨ Vercel ä¸­é‡æ–°éƒ¨ç½²è¯¥é¡¹ç›®ã€‚

### è®¾ç½®ç§å¯†æ–‡ä»¶å¤¹

ä»¥ä¸‹æ˜¯è®¾ç½®ç§å¯†æ–‡ä»¶å¤¹çš„è¯¦ç»†æ­¥éª¤ï¼š

å‡è®¾æ‚¨æœ‰è¿™æ ·ä¸€ä¸ªæ–‡ä»¶ç»“æ„ï¼š

```
.
â”œâ”€â”€ ğŸ“• Books
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸŒ Private folder
â”‚   â”œâ”€â”€ this-is-public
â”‚   â””â”€â”€ u-need-a-password   <-- ç§å¯†æ–‡ä»¶å¤¹
â”œâ”€â”€ ğŸ¡ Genshin PV
â”‚   â””â”€â”€ ...
â””â”€â”€ README.md
```

æˆ‘ä»¬æƒ³è¦å°† `/u-need-a-password` è®¾ä¸ºç§å¯†æ–‡ä»¶å¤¹ï¼Œå°±æŠŠå®ƒçš„ç»å¯¹è·¯å¾„æŒ‰ä¸‹åˆ—æ ¼å¼å¡«å†™åˆ° `protectedRoutes` é‡Œï¼š

```json
"protectedRoutes": [
  "/ğŸŒ Private folder/u-need-a-password",
],
```

å¦‚æœæ‚¨æƒ³è®¾ç½®å¦ä¸€ä¸ªç§å¯†æ–‡ä»¶å¤¹ï¼Œé‚£å°±åœ¨ä¸‹ä¸€è¡ŒæŒ‰ä¸‹åˆ—æ ¼å¼æ·»åŠ å®ƒçš„ç»å¯¹è·¯å¾„ï¼š

```json
"protectedRoutes": [
  "/ğŸŒ Private folder/u-need-a-password",
   "/another/route/for/me/to/protect",
],
```

å¦‚æœæ‚¨æ²¡æœ‰ä»»ä½•ç§å¯†æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆå°±æ·»åŠ ä¸€ä¸ª `[]` ä»¥å…³é—­æ­¤åŠŸèƒ½ï¼š

```json
"protectedRoutes": [],
```

æ‚¨ä¹Ÿè®¸åœ¨æƒ³è¦ä¸è¦åŠ å¯†å¡«å†™åœ¨ `.password` æ–‡ä»¶é‡Œçš„è®¿é—®å¯†ç ï¼Œä¸éœ€è¦ã€‚è¯¥æ–‡ä»¶å†…çš„å†…å®¹å°±æ˜¯æ‚¨è®¿é—®è¯¥æ–‡ä»¶å¤¹æ—¶éœ€è¦çš„å¯†ç ã€‚

![What to write inside .password](../_images/features/dot-password-file.png)

### æ³¨æ„äº‹é¡¹

ä»»ä½•äº‹ç‰©éƒ½æœ‰å®ƒçš„åŒé¢åˆƒï¼š

1. ç§å¯†æ–‡ä»¶å¤¹å†…çš„ä»»ä½•æ–‡ä»¶ä¸æ–‡ä»¶å¤¹éƒ½æ— æ³•é€šè¿‡ç›´é“¾è®¿é—®ï¼ˆä»¥ `?raw=true` ç»“å°¾çš„ç›´é“¾ï¼Œè¯¦æƒ…è¯·å‚è€ƒ [æ‰˜ç®¡æ–‡ä»¶ä¸å›¾ç‰‡](./hosting-images-directly.zh) ã€‚ï¼‰ã€‚
2. æˆ‘ä¸ªäººæ— æ³•ä¿è¯æ­¤ä¿æŠ¤åŠŸèƒ½å®Œå…¨å®‰å…¨ã€‚æ‰€ä»¥æˆ‘ä¸æ¨èä½¿ç”¨æ­¤æ–¹å¼å­˜æ”¾æ‚¨çš„ä¸ªäººéšç§ä¿¡æ¯ï¼Œè¿™åªæ˜¯ä¸ªåˆ†äº«çš„å¯é€‰é¡¹ã€‚

<Callout emoji="ğŸ—£">
  è¯¦æƒ…è¯·å‚è€ƒ [Password protected routes is now supported #66](https://github.com/spencerwooo/onedrive-vercel-index/discussions/66) ã€‚
</Callout>
